# -----------------------------------------------------------------------------
# Dockerfile for Flask Application of AskEllis
# -----------------------------------------------------------------------------

# -----------------------------------------------------------------------------
# SECTION: Base Image
# -----------------------------------------------------------------------------
FROM python:3.12-slim

# -----------------------------------------------------------------------------
# SECTION: Working Directory Setup
# -----------------------------------------------------------------------------

# Set up the working directory inside the container
WORKDIR /app

# -----------------------------------------------------------------------------
# SECTION: Copy Application Code
# -----------------------------------------------------------------------------

# Copy the current directory contents into the container at /app
COPY . .

# -----------------------------------------------------------------------------
# SECTION: Install Dependencies
# -----------------------------------------------------------------------------

# Install any necessary dependencies specified in requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

# -----------------------------------------------------------------------------
# SECTION: Expose Ports
# -----------------------------------------------------------------------------

# Make port 5000 available to the world outside this container
EXPOSE 5000

# -----------------------------------------------------------------------------
# SECTION: Command to Run the Application
# -----------------------------------------------------------------------------

# Run the Flask application
CMD ["python", "flask_app.py"]

# -----------------------------------------------------------------------------
# END OF MODULE
# -----------------------------------------------------------------------------